什么是堆

堆就是用数组实现的二叉树，所以他没有使用父指针或者子指针。堆有两种，最大堆和最小堆。 最大堆：父节点比每一个子节点大； 最小堆：父节点比每一个子节点小。

注意：这并不代表堆就一定是有序的，有序的数组一定是堆，堆不一定是有序数组，但是堆的第一个元素肯定是最大的或者最小的。

堆的常用方法

构建优先队列 支持堆排序 快速找出一个集合中的最小值（或者最大值）

和二杈树的区别

节点顺序不同：二叉树左边的节点一定比父节点小，右边的节点一定比父节点大，堆的子节点都大于（小于）等于父节点。

内存占用低：只存数据，没有指针。

平衡：二叉树平衡时复杂度才能达到O(log n)，堆的数据组织方式保证了O(log n)的性能。

搜索：二叉树搜索速度快，堆的强项不是搜索，堆的强项是增删和取最值。

堆的特性

父子节点的索引表达式：
parent(i) = floor((i-1)/2)
left(i) = 2i+1
right() = 2i+2

因为父节点总是大于（小于）或等于子节点，所以又有如下表达式：
array[parent(i)] >= array[i]
array[flood((i-1)/2)] >= array[i]

n个节点的堆，他的高度表达式是：
h = floor(log2(n))

如果最后一层是满的，则最后一层的元素数量是2的层数次方；

除最后一层的其他层元素数量之和是2的n次方减一；

叶节点总是位于数组的 floor(n/2) 和 n-1 之间；

n个元素的堆，第一个非叶子节点索引：flood(n/2)-1

参考文章：https://www.jianshu.com/p/6b526aa481b1


